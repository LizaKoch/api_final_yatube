# **API социальной сети "Yatube"**

## **Описание проекта**

В данном проекте реализован API для интеграции новых приложений
с социальной сетью "Yatube"

## **Технологии**

| Библиотека                  | Версия |
|-----------------------------|--------|
|Django                      | 3.2.16 |
|djangorestframework          | 3.12.4 |
|djangorestframework-simplejwt| 4.7.2  |
|Pillow                       | 9.3.0  |
|PyJWT                        | 2.1.0  |
|requests                     | 2.26.0 |

## Запуск

1. Установите python версии 3.9 и выше.
1. Клонируйте репозиторий и перейдите в него в командной строке:

```bash
git clone https://github.com/LizaKoch/api_final_yatube.git && \
cd api_final_yatube
```

1. Создайте вертуальное окружение и установите зависимости (пример команд на linux/mac):

```bash
python3 -m venv venv && \ 
    source venv/bin/activate && \
    python3 -m pip install --upgrade pip && \
    pip install -r requirements.txt
```

1. Выполните миграции:

```bash
python3 yatube_api/manage.py migrate
```

1. Создайте superuser:

```bash
python3 manage.py createsuperuser
```

1. Запустите проект:

```bash
python3 manage.py runserver
```

## **Примеры запросов API**

### **для публикаций (posts)**

#### _Запрос к posts_

**Получить список всех публикаций (GET):** `http://127.0.0.1:8000/api/v1/posts/`

* При указании параметров limit и offset выдача должна работать с
пагинацией. _limit - количество публикаций на страницу;
offset - номер страницы после которой начинать выдачу_

* _Допустимо для анонимных пользователей_.

---

**Создание публикации (POST):** `http://127.0.0.1:8000/api/v1/posts/`

```bash
    # Тело запроса

    {
        "text": "string",
        "image": "string",
        "group": 0
    }
```

* _Допустимо только для авторизованных пользователей._

---

**Получить одну публикацию(GET):** `http://127.0.0.1:8000/api/v1/posts/{post_id}/`

* {post_id} - id запрашиваемой публикации;
* _Допустимо для анонимных пользователей_.

---

**Обновление публикации (PUT):** `http://127.0.0.1:8000/api/v1/posts/{post_id}/`

```bash
    # Тело запроса

    {
        "text": "string",
        "image": "string",
        "group": 0
    }
```

* {post_id} - id запрашиваемой публикации;
* _Допустипо только для автора публикации_.

#### _Запрос к comments_

**Получение комментария(GET): `http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/{id}/`
Получение комментария к публикации по id.

* {post_id} - id запрашиваемой публикации;
* id - id комментария.
* _Допустимо для анонимных пользователей_.

#### _Запрос к follow_

**Подписка(POST): `http://127.0.0.1:8000/api/v1/follow/`
Подписка пользователя от имени которого сделан запрос
на пользователя переданного в теле запроса.

```bash
    # Тело запроса

    {
        "following": "string"
    }
```

* _Нельзя подписаться на себя и подписаться дважды;_
* _Допустимо только для авторизованных пользователей._

#### _Запрос к JWT_

**Получение JWT-токен(POST): `http://127.0.0.1:8000/api/v1/jwt/create/`

```bash
    # Тело запроса

{
    "username": "string",
    "password": "string"
}
```

---

**Обновление JWT-токена. (POST):** `http://127.0.0.1:8000/api/v1/jwt/refresh/`

```bash
    # Тело запроса

    {
        "refresh": "string"
    }
```
